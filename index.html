<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
	<title>Document</title>
	<script>
		(function (doc, win) {
    var docEl = doc.documentElement,
      resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
      recalc = function () {
        var clientWidth = docEl.clientWidth;
        if (!clientWidth) return;
        if (clientWidth >= 750) {
          docEl.style.fontSize = '100px';
        } else {
          docEl.style.fontSize = 100 * (clientWidth / 750) + 'px';
        }
      };
    if (!doc.addEventListener) return;
    win.addEventListener(resizeEvt, recalc, false);
    doc.addEventListener('DOMContentLoaded', recalc, false);
  })(document, window);
	</script>
	<style>
		*{
			padding: 0;
			margin: 0;
			box-sizing: border-box;
		}
		ul,li{ padding:0;margin:0;list-style:none}
		.root{
			width: 12rem;
			height: 5rem;
			background: #fbfaff;
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin: auto;
		}
		.audio-style{
			width: 12rem;
			height: 100%;
			position: relative;
			overflow: hidden;
		}
		.audio-container{
			width: 100%;
			height: 100%;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.audio_bg,.audio_bg_img{
			width: 3.2rem;
			height: 3.2rem;
		}
		.audio_bg{
			position: relative;
		}
		.audio_bg>.icon{
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%,-50%);
			width: 0.64rem;
			height: 0.64rem;
		}
		.audio_pointer{
			width: 2rem;
			position: absolute;
			top: -0.6rem;
			right: 0.1rem;
		}
		.play .audio_bg_img{
			animation: spin 2s linear infinite;
		}
		.audio_pointer{
			transform:rotate(-70deg);
		}
		.play .audio_pointer{
			transform:rotate(0deg);
		}
		@keyframes spin {
				from {
						transform: rotate(0deg);
				}
				to {
						transform: rotate(360deg);
				}
		}
		.audio_pointer>img{
			width: 100%;
		}


		.audio-switch{
			width: 5rem;
			height: 100%;
		}
		.audio-switch>p{
			width: 100%;
			background: #8361bb;
			color: #fff;
			font-weight: bold;
			padding: 0.10rem 0.18rem;
			font-size: 0.28rem;
		}
		.list{
			font-size: 0.20rem;
			margin-top: 0.24rem;
			color: #999;
		}
		.list>li{
			padding: 0.04rem;
		}
		.list>.active{
			font-size: 0.24rem;
			font-weight: bold;
			color: #8361bb;
		}
	</style>
</head>
<body>
	<audio id="audio" src="./长语音流样音/德语长语音流/男德语长语音流.wav"></audio>
	<div class="root" audio="root">
		<div class="audio-style" id="audioStatus">
			<div class="audio-container">
				<div class="audio_bg">
					<img class="audio_bg_img" src="./img/audio_bg.png" alt="">
					<img class="icon" id="playbackStatus" src="./img/play.png" alt="">
				</div>
			</div>
			
			<div class="audio_pointer">
				<img src="./img/audio_pointer.png" alt="">
			</div>
		</div>
		<div class="audio-switch">
			<p>多语种ASR语言数据集</p>
			<ul id="text" class="list">
				<li class="active" audioSrc='./长语音流样音/德语长语音流/男德语长语音流.wav'>德语长语音流</li>
				<li audioSrc='./长语音流样音/意大利语长语音流/男.wav'>意大利语长语言流数据集</li>
				<li audioSrc='./长语音流样音/葡语长语音流/男.wav'>葡语长语音流</li>
				<li audioSrc='./长语音流样音/西班牙语长语音流/男.wav'>西班牙语长语音流</li>
				<li audioSrc='./长语音流样音/西班牙语自由对话/T300678G10001S0002.wav'>西班牙语自由对话</li>
			</ul>
		</div>
		
	</div>
	
	<script>
		/**
		 * 1 播放中
		 * 2 暂停中
		*/
		let status = 2
		const audioarr = [...document.querySelector("div[audio=root]")]
		const audio = document.getElementById('audio') //音频
		const textArr = [...document.getElementById('text').children] // 音频列表
		const audioStatus = document.getElementById('audioStatus')
		const playbackStatus = document.getElementById('playbackStatus')


		audioarr.forEach((item,index) => {
			// 暂停 or 播放
			playbackStatus.onclick = function(){
				if(status == 1){ // 如果是播放中
					audio.pause();
					status = 2
					// 删除动画
					audioStatus.classList.remove("play");
					playbackStatus.setAttribute('src','./img/play.png')
				}else{ // 暂停中
					audio.play();
					status = 1
					audioStatus.classList.add("play");
					playbackStatus.setAttribute('src','./img/suspend.png')
				}
			}
			
			// 监听音频是否播放完成
			audio.addEventListener('ended',function(){
				audio.pause();
				status = 2
				audioStatus.classList.remove("play");
				playbackStatus.setAttribute('src','./img/play.png')
			})
			textArr.forEach((item,index) => {
				item.onclick = function(){
					var audioLoad = new Audio(item.getAttribute("audioSrc"));
					audio.pause();
					/**
					 * 删除其他active类名
					 * 
					*/
					textArr.forEach((item,index) => {
						item.classList.remove("active");
					})
					// 添加选中类名
					item.classList.add("active");

					// 音频加载完成后执行播放
					audioLoad.onloadedmetadata = function(){
						audio.setAttribute('src',item.getAttribute("audioSrc"))
						audio.play();
						status = 1
						audioStatus.classList.add("play");
						playbackStatus.setAttribute('src','./img/suspend.png')
					}
					
				}
			})
		})
	</script>
</body>
</html>